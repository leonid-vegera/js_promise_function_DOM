<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise function</title>
    <link rel="stylesheet" href="styles/main.css">
  </head>
  <body>
    <form>
      <label for="login">
        Login
        <input
          name="login"
          type="text"
          placeholder="Login"
          id="login"
        >
      </label>
      <label for="password">
        Password
        <input
          name="password"
          type="password"
          placeholder="Password"
          id="password"
         >
      </label>

      <button type="button" id="submit">Login</button>
    </form>

    <script>
      function waitFor(element, eventName) {
        return new Promise((resolve) => {
          element.addEventListener(eventName, () => {
            const message = `It was ${eventName} on the element: ${element.nodeName}, id: ${element.id}`
            resolve(message);
          })
        })
      }

      const printMessage = (message) => {
        document.body.insertAdjacentHTML('beforeend', `
          <div class="message">${message}</div>
        `)
      };


      const loginField = document.getElementById('login');
      const passwordField = document.getElementById('password');
      const button = document.getElementById('submit');

      waitFor(loginField, 'click').then(printMessage);
      waitFor(passwordField, 'click').then(printMessage);
      waitFor(button, 'click').then(printMessage);

      waitFor(loginField, 'input').then(printMessage);
      waitFor(passwordField, 'input').then(printMessage);

      waitFor(loginField, 'blur').then(printMessage);
      waitFor(passwordField, 'blur').then(printMessage);
      waitFor(button, 'blur').then(printMessage);
    </script>
  </body>
</html>
